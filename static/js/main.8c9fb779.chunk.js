(this["webpackJsonpreact-blog-api"]=this["webpackJsonpreact-blog-api"]||[]).push([[0],{11:function(t,e,n){t.exports={FullPost:"FullPost_FullPost__3gsKY",CommentArea:"FullPost_CommentArea__1zaf2",Fav:"FullPost_Fav__nT20o"}},12:function(t,e,n){t.exports={mainHeader:"Navigation_mainHeader__3J81_",Open:"Navigation_Open__3Bxi8",Close:"Navigation_Close__pmotA",active:"Navigation_active__1g7Ck",humb:"Navigation_humb__IQkfH",humbOn:"Navigation_humbOn__oIBv6"}},25:function(t,e,n){t.exports={Post:"Post_Post__2uao7",move:"Post_move__3J65m"}},26:function(t,e,n){t.exports={App:"App_App__16ZpL"}},28:function(t,e,n){t.exports={Posts:"Posts_Posts__2MvyW"}},29:function(t,e,n){t.exports={FavPosts:"FavPosts_FavPosts__EdoR9"}},30:function(t,e,n){t.exports={Comment:"Comment_Comment__PW1S3"}},31:function(t,e,n){t.exports={FavComments:"FavComments_FavComments__xbd15"}},37:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),s=n(17),a=n.n(s),r=(n(37),n(10)),i=n(3),l=n(26),j=n.n(l),d=n(14),u=n(12),m=n.n(u),b=n(1),O=function(t){var e=Object(c.useState)(!1),n=Object(d.a)(e,2),o=n[0],s=n[1],a=function(){s(!1)};return Object(b.jsxs)("header",{className:m.a.mainHeader,children:[Object(b.jsxs)("div",{className:"".concat(m.a.humb," ").concat(o?m.a.humbOn:m.a.humbOff),onClick:function(){s((function(t){return!t}))},children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}),Object(b.jsx)("nav",{className:"".concat(o?m.a.Open:m.a.Close),children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/",exact:!0,onClick:a,children:"All Posts"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/favoritesposts",onClick:a,children:"Favorites Posts"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/favoritescomments",onClick:a,children:"Favorites Comments"})})]})})]})},h=n(25),f=n.n(h),v=function(t){return Object(b.jsx)("article",{className:"".concat(f.a.Post," ").concat(f.a.move," move"),onClick:t.clicked,children:Object(b.jsx)("h1",{children:t.title})})},p=n(4),x="STORE_RESULT",_="TOGGLE_FAV",F="TOGGLE_COMMENT_TO_FAV",g=n(28),C=n.n(g),N=function(t){var e=Object(p.c)((function(t){return t.blog.posts})),n=Object(p.c)((function(t){return t.blog.error})),c=Object(p.c)((function(t){return t.blog.load})),o=Object(b.jsx)("p",{style:{textAlign:"center"},children:"Post downloaded pleace wait..."});return n&&(o=Object(b.jsx)("p",{style:{textAlign:"center"},children:"something is wrong we had an Error"})),!n&&c&&(o=e.map((function(e){return Object(b.jsx)(v,{title:e.title,clicked:function(){return n=e.id,void t.history.push("/posts/"+n);var n}},e.id)}))),Object(b.jsx)("div",{children:Object(b.jsx)("section",{className:C.a.Posts,children:o})})},y=n(11),P=n.n(y),k=function(t){var e=Object(c.useState)(null),n=Object(d.a)(e,2),s=n[0],a=n[1],r=Object(c.useState)(null),l=Object(d.a)(r,2),j=l[0],u=l[1],m=Object(p.b)(),O=Object(p.c)((function(e){return e.blog.posts.filter((function(e){return e.id==t.match.params.postId}))})),h=Object(d.a)(O,1)[0],f=Object(p.c)((function(t){return t.blog.commentsFav}));Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/posts/".concat(t.match.params.postId,"/comments"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw Error(t.statusText)})).then((function(t){u(t)})).catch((function(t){a(!0)}))}),[]);var v=Object(b.jsx)(i.a,{to:"/"}),x=[];return j&&(x=j.map((function(t){var e=f.findIndex((function(e){return e.id===t.id}))>-1;return Object(b.jsxs)("div",{className:P.a.FullPost,children:[Object(b.jsx)("h3",{children:t.name}),Object(b.jsx)("p",{children:t.body}),Object(b.jsx)("small",{children:t.email}),Object(b.jsx)("button",{className:e?P.a.Fav:P.a.NoFav,onClick:function(){return function(t){m({type:F,comment:t})}(t)},children:e?"Remove from Favorites":"Add to Favorites"})]},t.id)}))),h&&(v=Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsxs)("div",{className:P.a.FullPost,children:[Object(b.jsx)("h1",{children:h.title}),Object(b.jsx)("p",{children:h.body}),Object(b.jsx)("button",{className:h.fav?P.a.Fav:P.a.NoFav,onClick:function(){m({type:_,id:h.id})},children:h.fav?"Remove from Favorites":"Add to Favorites"})]}),Object(b.jsxs)("div",{className:P.a.CommentArea,children:[Object(b.jsx)("h2",{children:"Comment List"}),s?"Comments are not loaded...":j?x:"Comments are loading..."]})]})),v},E=n(29),A=n.n(E),T=function(t){var e=Object(p.c)((function(t){return t.blog.posts.filter((function(t){return t.fav}))})),n=!1;0===e.length&&(n=!0);var c=e.map((function(e){return Object(b.jsx)(v,{title:e.title,clicked:function(){return n=e.id,void t.history.push("/posts/"+n);var n}},e.id)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:A.a.FavPosts,children:c}),Object(b.jsx)("h1",{children:n&&"No Favorites yet..."})]})},w=n(30),I=n.n(w),G=function(t){return Object(b.jsxs)("article",{className:I.a.Comment,children:[Object(b.jsx)("h1",{children:t.title}),Object(b.jsx)("p",{children:t.body}),Object(b.jsx)("small",{children:t.email})]})},L=n(31),S=n.n(L),H=function(t){var e=Object(p.c)((function(t){return t.blog.commentsFav})),n=!1;0===e.length&&(n=!0);var c=e.map((function(t){return Object(b.jsx)(G,{title:t.name,body:t.body,email:t.email},t.id)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:S.a.FavComments,children:c}),Object(b.jsx)("h1",{children:n&&"No Favorites yet..."})]})},M=function(){var t=Object(p.b)();Object(c.useEffect)((function(){t((console.log("fetch"),function(t){fetch("https://jsonplaceholder.typicode.com/posts",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw Error(t.statusText)})).then((function(e){var n=e.map((function(t){return t.fav=!1,t}));t({type:x,result:n,error:!1})})).catch((function(e){console.log(e),t({type:x,result:e,error:!0})}))}))}),[]);return Object(b.jsx)(r.a,{basename:"/",children:Object(b.jsxs)("div",{className:j.a.App,onMouseMove:function(t){return function(t){var e=document.getElementsByClassName("move");Object.values(e).forEach((function(e,n){var c=e.offsetLeft+e.clientWidth/2,o=e.offsetTop+e.clientHeight/2,s=t.clientX+window.scrollX,a=t.clientY+window.scrollY,r=parseInt((s-c)/18),i=parseInt((o-a)/9);e.style.transform=" rotateY(".concat(r,"deg) rotateX(").concat(i,"deg)")}))}(t)},children:[Object(b.jsx)(O,{}),Object(b.jsx)("main",{children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{path:"/posts/:postId",exact:!0,component:k}),Object(b.jsx)(i.b,{path:"/favoritesposts",component:T}),Object(b.jsx)(i.b,{path:"/favoritescomments",component:H}),Object(b.jsx)(i.b,{path:"/",component:N})]})})]})})},R=n(32),B=n(20),J=n(5),Y={posts:[],commentsFav:[],loaded:!1,error:null,load:!1},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return t.loaded||e.error?e.error?Object(J.a)(Object(J.a)({},t),{},{loaded:!1,error:!0,load:!0}):t:Object(J.a)(Object(J.a)({},t),{},{posts:t.posts.concat(e.result),loaded:!0,load:!0,error:!1});case _:var n=t.posts.findIndex((function(t){return t.id===e.id})),c=!t.posts[n].fav,o=Object(B.a)(t.posts);return o[n]=Object(J.a)(Object(J.a)({},t.posts[n]),{},{fav:c}),Object(J.a)(Object(J.a)({},t),{},{posts:o});case F:if(-1===t.commentsFav.findIndex((function(t){return t.id===e.comment.id}))){var s=Object(B.a)(t.commentsFav);return s.push(e.comment),Object(J.a)(Object(J.a)({},t),{},{commentsFav:s})}var a=Object(B.a)(t.commentsFav),r=t.commentsFav.findIndex((function(t){return t.id===e.comment.id}));return a.splice(r,1),Object(J.a)(Object(J.a)({},t),{},{commentsFav:a});default:return t}},X=n(19),V=Object(X.b)({blog:W}),z=Object(X.c)(V,Object(X.a)(R.a));a.a.render(Object(b.jsx)(p.a,{store:z,children:Object(b.jsx)(M,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.8c9fb779.chunk.js.map