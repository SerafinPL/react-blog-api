(this["webpackJsonpreact-blog-api"]=this["webpackJsonpreact-blog-api"]||[]).push([[0],{11:function(t,e,n){t.exports={FullPost:"FullPost_FullPost__3gsKY",CommentArea:"FullPost_CommentArea__1zaf2",Fav:"FullPost_Fav__nT20o"}},12:function(t,e,n){t.exports={mainHeader:"Navigation_mainHeader__3J81_",Open:"Navigation_Open__3Bxi8",Close:"Navigation_Close__pmotA",active:"Navigation_active__1g7Ck",humb:"Navigation_humb__IQkfH",humbOn:"Navigation_humbOn__oIBv6"}},25:function(t,e,n){t.exports={Post:"Post_Post__2uao7",move:"Post_move__3J65m"}},26:function(t,e,n){t.exports={App:"App_App__16ZpL"}},28:function(t,e,n){t.exports={Posts:"Posts_Posts__2MvyW"}},29:function(t,e,n){t.exports={FavPosts:"FavPosts_FavPosts__EdoR9"}},30:function(t,e,n){t.exports={Comment:"Comment_Comment__PW1S3"}},31:function(t,e,n){t.exports={FavComments:"FavComments_FavComments__xbd15"}},37:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),s=n(17),a=n.n(s),r=(n(37),n(10)),i=n(3),l=n(26),j=n.n(l),d=n(14),b=n(12),u=n.n(b),m=n(1),O=function(t){var e=Object(c.useState)(!1),n=Object(d.a)(e,2),o=n[0],s=n[1],a=function(){s(!1)};return Object(m.jsxs)("header",{className:u.a.mainHeader,children:[Object(m.jsxs)("div",{className:"".concat(u.a.humb," ").concat(o?u.a.humbOn:u.a.humbOff),onClick:function(){s((function(t){return!t}))},children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]}),Object(m.jsx)("nav",{className:"".concat(o?u.a.Open:u.a.Close),children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/",exact:!0,onClick:a,children:"All Posts"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/favoritesposts",onClick:a,children:"Favorites Posts"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/favoritescomments",onClick:a,children:"Favorites Comments"})})]})})]})},h=n(25),p=n.n(h),v=function(t){return Object(m.jsx)("article",{className:"".concat(p.a.Post," ").concat(p.a.move," move"),onClick:t.clicked,children:Object(m.jsx)("h1",{children:t.title})})},f=n(4),x=n(28),_=n.n(x),F=function(t){var e=Object(f.c)((function(t){return t.blog.posts})),n=Object(f.c)((function(t){return t.blog.error})),c=Object(f.c)((function(t){return t.blog.load})),o=Object(m.jsx)("p",{style:{textAlign:"center"},children:"Post are downloading pleace wait..."});return n&&(o=Object(m.jsx)("p",{style:{textAlign:"center"},children:"something is wrong we had an Error"})),!n&&c&&(o=e.map((function(e){return Object(m.jsx)(v,{title:e.title,clicked:function(){return n=e.id,void t.history.push("/posts/"+n);var n}},e.id)}))),Object(m.jsx)("div",{children:Object(m.jsx)("section",{className:_.a.Posts,children:o})})},g="STORE_RESULT",C="TOGGLE_FAV",N="TOGGLE_COMMENT_TO_FAV",P=n(11),y=n.n(P),k=function(t){var e=Object(c.useState)(null),n=Object(d.a)(e,2),s=n[0],a=n[1],r=Object(c.useState)(null),l=Object(d.a)(r,2),j=l[0],b=l[1],u=Object(f.b)(),O=Object(f.c)((function(e){return e.blog.posts.filter((function(e){return e.id===t.match.params.postId}))})),h=Object(d.a)(O,1)[0],p=Object(f.c)((function(t){return t.blog.commentsFav}));Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/posts/".concat(t.match.params.postId,"/comments"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw Error(t.statusText)})).then((function(t){b(t)})).catch((function(t){a(!0)}))}),[]);var v=Object(m.jsx)(i.a,{to:"/"}),x=[];return j&&(x=j.map((function(t){var e=p.findIndex((function(e){return e.id===t.id}))>-1;return Object(m.jsxs)("div",{className:y.a.FullPost,children:[Object(m.jsx)("h3",{children:t.name}),Object(m.jsx)("p",{children:t.body}),Object(m.jsx)("small",{children:t.email}),Object(m.jsx)("button",{className:e?y.a.Fav:y.a.NoFav,onClick:function(){return function(t){u({type:N,comment:t})}(t)},children:e?"Remove from Favorites":"Add to Favorites"})]},t.id)}))),h&&(v=Object(m.jsxs)(o.a.Fragment,{children:[Object(m.jsxs)("div",{className:y.a.FullPost,children:[Object(m.jsx)("h1",{children:h.title}),Object(m.jsx)("p",{children:h.body}),Object(m.jsx)("button",{className:h.fav?y.a.Fav:y.a.NoFav,onClick:function(){u({type:C,id:h.id})},children:h.fav?"Remove from Favorites":"Add to Favorites"})]}),Object(m.jsxs)("div",{className:y.a.CommentArea,children:[Object(m.jsx)("h2",{children:"Comment List"}),s?"Comments are not loaded...":j?x:"Comments are loading..."]})]})),v},A=n(29),E=n.n(A),T=function(t){var e=Object(f.c)((function(t){return t.blog.posts.filter((function(t){return t.fav}))})),n=!1;0===e.length&&(n=!0);var c=e.map((function(e){return Object(m.jsx)(v,{title:e.title,clicked:function(){return n=e.id,void t.history.push("/posts/"+n);var n}},e.id)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("section",{className:E.a.FavPosts,children:c}),Object(m.jsx)("h1",{children:n&&"No Favorites yet..."})]})},I=n(30),w=n.n(I),G=function(t){return Object(m.jsxs)("article",{className:w.a.Comment,children:[Object(m.jsx)("h1",{children:t.title}),Object(m.jsx)("p",{children:t.body}),Object(m.jsx)("small",{children:t.email})]})},S=n(31),L=n.n(S),R=function(t){var e=Object(f.c)((function(t){return t.blog.commentsFav})),n=!1;0===e.length&&(n=!0);var c=e.map((function(t){return Object(m.jsx)(G,{title:t.name,body:t.body,email:t.email},t.id)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("section",{className:L.a.FavComments,children:c}),Object(m.jsx)("h1",{children:n&&"No Favorites yet..."})]})},H=function(){var t=Object(f.b)();return Object(c.useEffect)((function(){t((console.log("fetch"),function(t){fetch("https://jsonplaceholder.typicode.com/posts",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(t.ok)return t.json();throw Error(t.statusText)})).then((function(e){var n=e.map((function(t){return t.fav=!1,t}));t({type:g,result:n,error:!1})})).catch((function(e){console.log(e),t({type:g,result:e,error:!0})}))}))}),[]),Object(m.jsx)(r.a,{basename:"/",children:Object(m.jsxs)("div",{className:j.a.App,children:[Object(m.jsx)(O,{}),Object(m.jsx)("main",{children:Object(m.jsxs)(i.d,{children:[Object(m.jsx)(i.b,{path:"/posts/:postId",exact:!0,component:k}),Object(m.jsx)(i.b,{path:"/favoritesposts",component:T}),Object(m.jsx)(i.b,{path:"/favoritescomments",component:R}),Object(m.jsx)(i.b,{path:"/",component:F})]})})]})})},J=n(32),B=n(20),M=n(5),V={posts:[],commentsFav:[],loaded:!1,error:null,load:!1},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return t.loaded||e.error?e.error?Object(M.a)(Object(M.a)({},t),{},{loaded:!1,error:!0,load:!0}):t:Object(M.a)(Object(M.a)({},t),{},{posts:t.posts.concat(e.result),loaded:!0,load:!0,error:!1});case C:var n=t.posts.findIndex((function(t){return t.id===e.id})),c=!t.posts[n].fav,o=Object(B.a)(t.posts);return o[n]=Object(M.a)(Object(M.a)({},t.posts[n]),{},{fav:c}),Object(M.a)(Object(M.a)({},t),{},{posts:o});case N:if(-1===t.commentsFav.findIndex((function(t){return t.id===e.comment.id}))){var s=Object(B.a)(t.commentsFav);return s.push(e.comment),Object(M.a)(Object(M.a)({},t),{},{commentsFav:s})}var a=Object(B.a)(t.commentsFav),r=t.commentsFav.findIndex((function(t){return t.id===e.comment.id}));return a.splice(r,1),Object(M.a)(Object(M.a)({},t),{},{commentsFav:a});default:return t}},z=n(19),K=Object(z.b)({blog:W}),Q=Object(z.c)(K,Object(z.a)(J.a));a.a.render(Object(m.jsx)(f.a,{store:Q,children:Object(m.jsx)(H,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.2f3bc9b8.chunk.js.map